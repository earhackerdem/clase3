{
  "info": {
    "name": "Lidr - Tasks API",
    "description": "Colección de endpoints para la API de gestión de tareas del proyecto Lidr.\n\n## Endpoints disponibles:\n- **POST** /api/tasks - Crear una nueva tarea\n\n## Servidor\n- Base URL: http://localhost:8000\n\n## Autor\nGenerado automáticamente para SCRUM-1",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "lidr-tasks"
  },
  "item": [
    {
      "name": "Tasks",
      "item": [
        {
          "name": "Crear Tarea",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has correct structure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('title');",
                  "    pm.expect(jsonData.data).to.have.property('status');",
                  "    pm.expect(jsonData.data).to.have.property('created_at');",
                  "});",
                  "",
                  "pm.test(\"Title matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.title).to.eql(pm.variables.get(\"task_title\"));",
                  "});"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Generar datos dinámicos para la tarea",
                  "pm.variables.set(\"task_title\", \"Tarea de prueba \" + new Date().getTime());",
                  "pm.variables.set(\"task_description\", \"Esta es una descripción generada automáticamente\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"{{task_title}}\",\n  \"description\": \"{{task_description}}\",\n  \"status\": \"pendiente\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/tasks",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "tasks"
              ]
            },
            "description": "Crea una nueva tarea en el sistema.\n\n### Validaciones:\n- **title**: requerido, string, máximo 255 caracteres\n- **description**: opcional, string\n- **status**: opcional, valores permitidos: 'pendiente', 'en progreso', 'completada'\n\n### Respuesta exitosa (201):\n```json\n{\n  \"data\": {\n    \"id\": 1,\n    \"title\": \"Nueva tarea\",\n    \"description\": \"Descripción de la tarea\",\n    \"status\": \"pendiente\",\n    \"created_at\": \"2025-10-07T23:17:17.000000Z\",\n    \"updated_at\": \"2025-10-07T23:17:17.000000Z\"\n  }\n}\n```"
          },
          "response": [
            {
              "name": "Crear Tarea - Exitoso",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Implementar autenticación de usuarios\",\n  \"description\": \"Configurar sistema de autenticación con Laravel Sanctum\",\n  \"status\": \"en progreso\"\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/tasks",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "8000",
                  "path": [
                    "api",
                    "tasks"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"data\": {\n    \"id\": 1,\n    \"title\": \"Implementar autenticación de usuarios\",\n    \"description\": \"Configurar sistema de autenticación con Laravel Sanctum\",\n    \"status\": \"en progreso\",\n    \"created_at\": \"2025-10-07T23:17:17.000000Z\",\n    \"updated_at\": \"2025-10-07T23:17:17.000000Z\"\n  }\n}"
            },
            {
              "name": "Crear Tarea - Error Validación",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"description\": \"Tarea sin título\",\n  \"status\": \"pendiente\"\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/tasks",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "8000",
                  "path": [
                    "api",
                    "tasks"
                  ]
                }
              },
              "status": "Unprocessable Entity",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"The title field is required.\",\n  \"errors\": {\n    \"title\": [\n      \"The title field is required.\"\n    ]\n  }\n}"
            },
            {
              "name": "Crear Tarea - Status Inválido",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Nueva tarea\",\n  \"description\": \"Tarea con status inválido\",\n  \"status\": \"finalizada\"\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/tasks",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "8000",
                  "path": [
                    "api",
                    "tasks"
                  ]
                }
              },
              "status": "Unprocessable Entity",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"The selected status is invalid.\",\n  \"errors\": {\n    \"status\": [\n      \"The selected status is invalid.\"\n    ]\n  }\n}"
            },
            {
              "name": "Crear Tarea - Sin Descripción",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Tarea mínima\"\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/tasks",
                  "protocol": "http",
                  "host": [
                    "localhost"
                  ],
                  "port": "8000",
                  "path": [
                    "api",
                    "tasks"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"data\": {\n    \"id\": 2,\n    \"title\": \"Tarea mínima\",\n    \"description\": null,\n    \"status\": \"pendiente\",\n    \"created_at\": \"2025-10-07T23:20:00.000000Z\",\n    \"updated_at\": \"2025-10-07T23:20:00.000000Z\"\n  }\n}"
            }
          ]
        }
      ],
      "description": "Endpoints relacionados con la gestión de tareas"
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    }
  ]
}

